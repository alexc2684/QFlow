<template name="Play">
  <div id="room">
    <h1>Room: ID</h1>
  </div>

  <div id="player"></div>
  <script src="https://connect.soundcloud.com/sdk/sdk-3.1.2.js"></script>

  <script>
    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '390',
        width: '640',
        videoId: 'a59gmGkq_pw',
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }

    function onPlayerReady(event) {
      //event.target.playVideo();
      //player.cueVideoById({videoId:"DhlPAj38rHc", suggestedQuality:"large"}):Void

    }

    var done = false;
    function onPlayerStateChange(event) {
      if (event.data == YT.PlayerState.PLAYING && !done) {
        setTimeout(stopVideo, 6000);
        done = true;
      } else {

      }
    }
    function stopVideo() {
      player.stopVideo();
    }

    SC.initialize({
      client_id: 'e49030affa62a819457ef0404ebee1b6'
    });

    var track_url = 'http://soundcloud.com/forss/flickermood';
    SC.oEmbed(track_url, { auto_play: true }).then(function(oEmbed) {
      console.log('oEmbed response: ', oEmbed);
    });
  </script>

</template>
